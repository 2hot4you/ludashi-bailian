# ğŸ¬ é˜¿é‡Œäº‘ç™¾ç‚¼è§†é¢‘ç”Ÿæˆå¹³å°

[![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?style=for-the-badge&logo=go)](https://golang.org/)
[![License](https://img.shields.io/badge/License-MIT-blue?style=for-the-badge)](LICENSE)
[![DashScope](https://img.shields.io/badge/Powered%20by-é˜¿é‡Œäº‘ç™¾ç‚¼-orange?style=for-the-badge)](https://bailian.console.aliyun.com/)

> ğŸš€ åŸºäºé˜¿é‡Œäº‘ç™¾ç‚¼DashScope APIçš„æ™ºèƒ½è§†é¢‘ç”Ÿæˆå¹³å°ï¼Œæ”¯æŒé€šä¹‰ä¸‡ç›¸å›¾ç”Ÿè§†é¢‘åŠŸèƒ½

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

<!-- TODO: æ·»åŠ å®é™…çš„æˆªå›¾ -->
> ğŸ’¡ åœ¨è¿™é‡Œæ·»åŠ æ‚¨çš„åº”ç”¨æˆªå›¾ï¼Œå±•ç¤ºä¸»è¦åŠŸèƒ½ç•Œé¢

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- ğŸ–¼ï¸ **åŸºäºé¦–å¸§ç”Ÿæˆ** - ä¸Šä¼ å•å¼ å›¾ç‰‡ç”ŸæˆåŠ¨æ€è§†é¢‘
- ğŸ­ **åŸºäºé¦–å°¾å¸§ç”Ÿæˆ** - æä¾›é¦–å°¾ä¸¤å¸§ç”Ÿæˆè¿‡æ¸¡è§†é¢‘
- ğŸ¤– **å¤šæ¨¡å‹æ”¯æŒ** - turbo(å¿«é€Ÿ) å’Œ plus(é«˜è´¨é‡) ä¸¤ç§æ¨¡å‹
- ğŸ“ **æ™ºèƒ½æç¤ºè¯** - 800å­—ç¬¦é™åˆ¶ï¼Œå®æ—¶è®¡æ•°ï¼ŒAIæ”¹å†™

### ğŸ› ï¸ æŠ€æœ¯ç‰¹æ€§
- âš¡ **å®æ—¶é¢„è§ˆ** - å›¾ç‰‡URLè¾“å…¥åç«‹å³æ˜¾ç¤ºé¢„è§ˆ
- ğŸ² **ç§å­æ§åˆ¶** - æ”¯æŒå›ºå®šç§å­ä¿è¯ç”Ÿæˆç»“æœç¨³å®š
- ğŸ“Š **ä»»åŠ¡ç®¡ç†** - å®Œæ•´çš„å†å²è®°å½•ã€çŠ¶æ€è·Ÿè¸ªã€åˆ†é¡µæµè§ˆ
- ğŸ¨ **ç°ä»£UI** - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯è®¿é—®
- ğŸ”„ **å¼‚æ­¥å¤„ç†** - åå°ä»»åŠ¡å¤„ç†ï¼Œå®æ—¶çŠ¶æ€æ›´æ–°

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **è¯­è¨€**: Go 1.21+
- **æ¡†æ¶**: Gin Web Framework
- **æ•°æ®åº“**: SQLite
- **API**: é˜¿é‡Œäº‘DashScope API

### å‰ç«¯
- **æ¡†æ¶**: åŸç”ŸHTML + CSS + JavaScript
- **UIåº“**: Bootstrap 5.3
- **å›¾æ ‡**: Font Awesome 6.0
- **æ ·å¼**: CSS3 æ¸å˜ + å“åº”å¼è®¾è®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
- æœ‰æ•ˆçš„é˜¿é‡Œäº‘DashScope API Key
- ç½‘ç»œè¿æ¥ï¼ˆè®¿é—®é˜¿é‡Œäº‘APIï¼‰

### ğŸ”§ å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/ludashi-bailian.git
   cd ludashi-bailian
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   go mod tidy
   ```

3. **è®¾ç½®APIå¯†é’¥**
   ```bash
   export DASHSCOPE_API_KEY="your_dashscope_api_key"
   ```
   
   æˆ–è€…åœ¨ `~/.bashrc` ä¸­æ°¸ä¹…è®¾ç½®ï¼š
   ```bash
   echo 'export DASHSCOPE_API_KEY="your_dashscope_api_key"' >> ~/.bashrc
   source ~/.bashrc
   ```

4. **å¯åŠ¨æœåŠ¡**
   ```bash
   go run main.go
   ```

5. **è®¿é—®åº”ç”¨**
   æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:8082

### ğŸŒ é¡µé¢å¯¼èˆª

| é¡µé¢ | URL | æè¿° |
|------|-----|------|
| ğŸ  é¦–é¡µ | `/` | å¹³å°ä»‹ç»å’ŒåŠŸèƒ½å…¥å£ |
| ğŸ¬ è§†é¢‘ç”Ÿæˆ | `/video-generation` | åˆ›å»ºè§†é¢‘ç”Ÿæˆä»»åŠ¡ |
| ğŸ“‹ å†å²è®°å½• | `/history` | æŸ¥çœ‹å’Œç®¡ç†ä»»åŠ¡å†å² |
| ğŸ“„ ä»»åŠ¡è¯¦æƒ… | `/task-detail/{id}` | æŸ¥çœ‹å…·ä½“ä»»åŠ¡è¯¦æƒ… |
| â¤ï¸ å¥åº·æ£€æŸ¥ | `/health` | æœåŠ¡å¥åº·çŠ¶æ€ |

## ğŸ“– API æ–‡æ¡£

### ğŸ”¥ ä¸»è¦æ¥å£

#### åˆ›å»ºè§†é¢‘ä»»åŠ¡
```http
POST /api/video/create
Content-Type: application/json

{
  "task_type": "i2v-first-frame",     // ä»»åŠ¡ç±»å‹
  "model": "wanx2.1-i2v-turbo",       // æ¨¡å‹é€‰æ‹©
  "prompt": "æè¿°è§†é¢‘å†…å®¹",           // æç¤ºè¯(â‰¤800å­—ç¬¦)
  "image_url": "https://example.com/image.jpg",
  "end_image_url": "https://example.com/end.jpg",  // é¦–å°¾å¸§æ¨¡å¼å¿…éœ€
  "duration": 5,                      // è§†é¢‘æ—¶é•¿(ç§’)
  "resolution": "720P",               // åˆ†è¾¨ç‡
  "prompt_extend": true,              // æ™ºèƒ½æ”¹å†™
  "seed": 12345                       // éšæœºç§å­
}
```

#### æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
```http
GET /api/video/status/{task_id}
```

#### è·å–å†å²è®°å½•
```http
GET /api/video/history?page=1&page_size=10&task_type=i2v-first-frame&status=succeeded
```

#### åˆ é™¤ä»»åŠ¡
```http
DELETE /api/video/{task_id}
```

### ğŸ“Š æ¨¡å‹å¯¹æ¯”

| æ¨¡å‹ | åœºæ™¯æ”¯æŒ | åˆ†è¾¨ç‡ | æ—¶é•¿ | ç‰¹ç‚¹ |
|------|----------|--------|------|------|
| `wanx2.1-i2v-turbo` | åŸºäºé¦–å¸§ | 480P/720P | 3-5ç§’ | âš¡ é€Ÿåº¦å¿«ï¼Œé€‚åˆé¢„è§ˆ |
| `wanx2.1-i2v-plus` | é¦–å¸§/é¦–å°¾å¸§ | 720P | 5ç§’ | ğŸ¨ é«˜è´¨é‡ï¼Œå¤æ‚åœºæ™¯ |

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ludashi-bailian/
â”œâ”€â”€ ğŸ“ handlers/            # HTTPè¯·æ±‚å¤„ç†å™¨
â”‚   â””â”€â”€ video.go           
â”œâ”€â”€ ğŸ“ models/              # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ models.go          
â”œâ”€â”€ ğŸ“ services/            # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â””â”€â”€ dashscope.go       
â”œâ”€â”€ ğŸ“ static/              # é™æ€èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ index.html         # ğŸ  é¦–é¡µ
â”‚   â”œâ”€â”€ video-generation.html  # ğŸ¬ è§†é¢‘ç”Ÿæˆé¡µ
â”‚   â”œâ”€â”€ history.html       # ğŸ“‹ å†å²è®°å½•é¡µ
â”‚   â””â”€â”€ task-detail.html   # ğŸ“„ ä»»åŠ¡è¯¦æƒ…é¡µ
â”œâ”€â”€ ğŸ“„ main.go              # ğŸš€ ç¨‹åºå…¥å£
â”œâ”€â”€ ğŸ“„ go.mod              # ğŸ“¦ ä¾èµ–ç®¡ç†
â”œâ”€â”€ ğŸ“„ go.sum              
â”œâ”€â”€ ğŸ“„ README.md           
â””â”€â”€ ğŸ“„ bailian.db          # ğŸ—„ï¸ SQLiteæ•°æ®åº“(è‡ªåŠ¨ç”Ÿæˆ)
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### ğŸ–¼ï¸ åŸºäºé¦–å¸§ç”Ÿæˆè§†é¢‘

1. é€‰æ‹©"åŸºäºé¦–å¸§ç”Ÿæˆ"æ¨¡å¼
2. è¾“å…¥å›¾ç‰‡URLæˆ–ä¸Šä¼ å›¾ç‰‡
3. ç¼–å†™æè¿°è§†é¢‘å†…å®¹çš„æç¤ºè¯
4. é€‰æ‹©æ¨¡å‹å’Œå‚æ•°
5. ç‚¹å‡»"å¼€å§‹ç”Ÿæˆ"ç­‰å¾…ç»“æœ

### ğŸ­ åŸºäºé¦–å°¾å¸§ç”Ÿæˆè§†é¢‘

1. é€‰æ‹©"åŸºäºé¦–å°¾å¸§ç”Ÿæˆ"æ¨¡å¼  
2. æä¾›èµ·å§‹å¸§å’Œç»“æŸå¸§å›¾ç‰‡
3. æè¿°è½¬æ¢è¿‡ç¨‹
4. é€‰æ‹©plusæ¨¡å‹(turboä¸æ”¯æŒæ­¤æ¨¡å¼)
5. ç”Ÿæˆå¹³æ»‘è¿‡æ¸¡è§†é¢‘

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ğŸ”§ æœ¬åœ°å¼€å‘

```bash
# å¼€å‘æ¨¡å¼å¯åŠ¨(çƒ­é‡è½½)
go run main.go

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
go build -o bailian-platform main.go

# è¿è¡Œæµ‹è¯•
go test ./...
```

### ğŸ³ Dockeréƒ¨ç½²

```dockerfile
# TODO: æ·»åŠ Dockerfile
FROM golang:1.21-alpine AS builder
# ... æ„å»ºæ­¥éª¤
```

## ğŸ” ç¯å¢ƒå˜é‡

| å˜é‡å | å¿…éœ€ | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `DASHSCOPE_API_KEY` | âœ… | - | é˜¿é‡Œäº‘DashScope APIå¯†é’¥ |
| `PORT` | âŒ | `8082` | æœåŠ¡ç›‘å¬ç«¯å£ |
| `DB_PATH` | âŒ | `./bailian.db` | SQLiteæ•°æ®åº“è·¯å¾„ |

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ç«¯å£
```go
// main.go
r.Run(":8080")  // ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£
```

### æ•°æ®åº“é…ç½®
é¡¹ç›®ä½¿ç”¨SQLiteï¼Œæ•°æ®åº“æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºåœ¨é¡¹ç›®æ ¹ç›®å½•ã€‚å¦‚éœ€æ›´æ”¹ä½ç½®ï¼Œä¿®æ”¹ç›¸å…³ä»£ç ä¸­çš„æ•°æ®åº“è·¯å¾„ã€‚

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: API Keyæœªè®¾ç½®è­¦å‘Š**
```
Warning: DASHSCOPE_API_KEY environment variable is not set
```
**A**: è®¾ç½®ç¯å¢ƒå˜é‡ `export DASHSCOPE_API_KEY="your_key"`

**Q: æ— æ³•è®¿é—®é˜¿é‡Œäº‘API**  
**A**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒAPI Keyæœ‰æ•ˆæ€§

**Q: è§†é¢‘ç”Ÿæˆå¤±è´¥**  
**A**: æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…é¡µé¢çš„é”™è¯¯ä¿¡æ¯ï¼Œæ£€æŸ¥å›¾ç‰‡URLå’Œæç¤ºè¯

**Q: å†å²è®°å½•é¡µé¢æ˜¾ç¤ºä¸å®Œæ•´**  
**A**: å·²ä¿®å¤ï¼Œæ”¯æŒæ°´å¹³æ»šåŠ¨æŸ¥çœ‹æ‰€æœ‰åˆ—

## ğŸ”— ç›¸å…³é“¾æ¥

- ğŸ“š [é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°](https://bailian.console.aliyun.com/)
- ğŸ“– [DashScope API æ–‡æ¡£](https://help.aliyun.com/document_detail/2867393.html)
- ğŸ¤– [é€šä¹‰ä¸‡ç›¸æ¨¡å‹ä»‹ç»](https://help.aliyun.com/document_detail/2867393.html)
- ğŸ¯ [Go Gin æ¡†æ¶](https://gin-gonic.com/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼
1. ğŸ´ Fork æœ¬é¡¹ç›®
2. ğŸŒŸ åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. ğŸ’« æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. ğŸ“¤ æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. ğŸ‰ åˆ›å»º Pull Request

### é—®é¢˜åé¦ˆ
- ğŸ› [BugæŠ¥å‘Š](https://github.com/your-username/ludashi-bailian/issues)
- ğŸ’¡ [åŠŸèƒ½å»ºè®®](https://github.com/your-username/ludashi-bailian/issues)

## ğŸ‘¨â€ğŸ’» ä½œè€…

**LUDASHI & IXIAOZU**

- ğŸ“§ Email: your-email@example.com
- ğŸ™ GitHub: [@your-username](https://github.com/your-username)

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢é˜¿é‡Œäº‘ç™¾ç‚¼å›¢é˜Ÿæä¾›å¼ºå¤§çš„AIæ¨¡å‹æœåŠ¡
- æ„Ÿè°¢å¼€æºç¤¾åŒºçš„æ”¯æŒå’Œè´¡çŒ®

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹ä¸ªæ˜Ÿæ”¯æŒä¸€ä¸‹ï¼ â­**

Made with â¤ï¸ by LUDASHI & IXIAOZU

</div> 